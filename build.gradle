/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

version '1.0-SNAPSHOT'

buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath 'org.akhikhl.gretty:gretty:+'
    }
}

allprojects {
    apply plugin: 'idea'
    apply plugin: 'java'
    apply plugin: 'org.akhikhl.gretty'

    repositories {
        mavenCentral()
    }
}

subprojects { it ->
    dependencies {
        //Jersey dependencies
        runtime 'javax.ws.rs:javax.ws.rs-api:2.0.1'
        implementation 'org.glassfish.jersey.containers:jersey-container-servlet:2.19'
        runtime 'org.glassfish.jersey.containers:jersey-container-servlet:2.19'

        implementation group: 'org.glassfish.jersey.media', name: 'jersey-media-json-jackson', version: '2.19'
        runtime group: 'org.glassfish.jersey.media', name: 'jersey-media-json-jackson', version: '2.19'

        implementation group: 'org.eclipse.jetty', name: 'jetty-server', version: '9.4.18.v20190429'
        grettyRunnerTomcat8 group: 'org.apache.tomcat', name: 'tomcat-dbcp', version: '9.0.12'
    }

    gretty {
        systemProperties = System.properties
        servletContainer = 'tomcat8'
        contextPath = ""
        serverConfigFile = "server.xml"
        jvmArgs = ['-Djava.naming.factory.initial=org.apache.naming.java.javaURLContextFactory', '-Djava.naming.factory.url.pkgs=org.apache.naming']
        managedClassReload = true
    }
}